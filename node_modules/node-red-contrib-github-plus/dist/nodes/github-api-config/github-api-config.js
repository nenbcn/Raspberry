"use strict";
const github_api_client_1 = require("../shared/github-api-client");
const config_1 = require("./modules/config");
const nodeInit = (RED) => {
    function GithubApiConfigNodeConstructor(config) {
        RED.nodes.createNode(this, config);
        if (config &&
            config.appId &&
            config.instId &&
            this.credentials &&
            this.credentials.privKey) {
            this.client = new github_api_client_1.GithubApiClient(config.appId, this.credentials.privKey, config.instId, {
                "user-agent": config.ua || "node-red-contrib-github-plus",
            });
        }
    }
    RED.nodes.registerType("github-api-config", GithubApiConfigNodeConstructor, {
        credentials: config_1.githubApiConfigCredentials,
    });
};
module.exports = nodeInit;
//# sourceMappingURL=github-api-config.js.map